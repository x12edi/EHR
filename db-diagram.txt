Table Patients {
  Id uuid [pk]
  MRN varchar
  FirstName varchar
  LastName varchar
  DOB datetime
  Gender varchar
  PrimaryPhone varchar
  Email varchar
  CreatedAt datetime
}

Table PatientIdentifiers {
  Id uuid [pk]
  PatientId uuid [ref: > Patients.Id]
  IdentifierType varchar
  Value varchar
}

Table Contacts {
  Id uuid [pk]
  PatientId uuid [ref: > Patients.Id]
  Name varchar
  Relationship varchar
}

Table Users {
  Id uuid [pk]
  Username varchar
  Email varchar
  DisplayName varchar
}

Table ClinicianProfiles {
  Id uuid [pk]
  UserId uuid [ref: > Users.Id]
  DepartmentId uuid [ref: > Departments.Id]
  NPI varchar
}

Table Departments {
  Id uuid [pk]
  Name varchar
}

Table Locations {
  Id uuid [pk]
  Name varchar
}

Table Encounters {
  Id uuid [pk]
  PatientId uuid [ref: > Patients.Id]
  LocationId uuid [ref: > Locations.Id]
  DepartmentId uuid [ref: > Departments.Id]
  PrimaryProviderId uuid [ref: > Users.Id]
  StartAt datetime
  EndAt datetime
}

Table EncounterParticipants {
  Id uuid [pk]
  EncounterId uuid [ref: > Encounters.Id]
  UserId uuid [ref: > Users.Id]
}

Table ClinicalNotes {
  Id uuid [pk]
  EncounterId uuid [ref: > Encounters.Id]
  PatientId uuid [ref: > Patients.Id]
  AuthorId uuid [ref: > Users.Id]
  SignedAt datetime
}

Table Problems {
  Id uuid [pk]
  PatientId uuid [ref: > Patients.Id]
  Code varchar
}

Table Allergies {
  Id uuid [pk]
  PatientId uuid [ref: > Patients.Id]
  SubstanceText varchar
}

Table MedicationRequests {
  Id uuid [pk]
  PatientId uuid [ref: > Patients.Id]
  PrescriberId uuid [ref: > Users.Id]
}

Table MedicationAdministrations {
  Id uuid [pk]
  MedicationRequestId uuid [ref: > MedicationRequests.Id]
  AdministeredById uuid [ref: > Users.Id]
}

Table Orders {
  Id uuid [pk]
  PatientId uuid [ref: > Patients.Id]
  EncounterId uuid [ref: > Encounters.Id]
  OrderedById uuid [ref: > Users.Id]
}

Table LabResults {
  Id uuid [pk]
  OrderId uuid [ref: > Orders.Id]
  PatientId uuid [ref: > Patients.Id]
}

Table DiagnosticReports {
  Id uuid [pk]
  PatientId uuid [ref: > Patients.Id]
  OrderId uuid [ref: > Orders.Id]
}

Table Appointments {
  Id uuid [pk]
  PatientId uuid [ref: > Patients.Id]
  ProviderId uuid [ref: > Users.Id]
  DepartmentId uuid [ref: > Departments.Id]
  StartAt datetime
}

Table ScheduleSlots {
  Id uuid [pk]
  ProviderId uuid [ref: > Users.Id]
  StartAt datetime
}

Table BillingRecords {
  Id uuid [pk]
  PatientId uuid [ref: > Patients.Id]
  EncounterId uuid [ref: > Encounters.Id]
  Amount decimal
}

Table FileReferences {
  Id uuid [pk]
  EntityType varchar
  EntityId uuid
  FileName varchar
}

Table ImagingReferences {
  Id uuid [pk]
  EncounterId uuid [ref: > Encounters.Id]
  PatientId uuid [ref: > Patients.Id]
  StudyInstanceUID varchar
}

Table AuditLogs {
  Id bigint [pk]
  UserId varchar
  EntityType varchar
  EntityId varchar
  Timestamp datetime
}

Table AuditAccessLogs {
  Id bigint [pk]
  UserId varchar
  PatientId uuid [ref: > Patients.Id]
  Timestamp datetime
}

Table Notifications {
  Id uuid [pk]
  RecipientUserId uuid [ref: > Users.Id]
  Title varchar
}

Table CodeSets {
  Id uuid [pk]
  Name varchar
}

Table CodeSetItems {
  Id uuid [pk]
  CodeSetId uuid [ref: > CodeSets.Id]
  ItemCode varchar
}

Table OutboxEvents {
  Id bigint [pk]
  EventType varchar
}

Table RefreshTokens {
  Id bigint [pk]
  UserId varchar [ref: > Users.Id]
}

Table Tenants {
  Id uuid [pk]
  Name varchar
}
